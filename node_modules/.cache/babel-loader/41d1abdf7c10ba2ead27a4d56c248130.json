{"remainingRequest":"/home/josh/Projects/game-of-life/node_modules/thread-loader/dist/cjs.js!/home/josh/Projects/game-of-life/node_modules/babel-loader/lib/index.js!/home/josh/Projects/game-of-life/node_modules/eslint-loader/index.js??ref--13-0!/home/josh/Projects/game-of-life/src/functions/loop.js","dependencies":[{"path":"/home/josh/Projects/game-of-life/src/functions/loop.js","mtime":1584831539854},{"path":"/home/josh/Projects/game-of-life/node_modules/cache-loader/dist/cjs.js","mtime":1584814823703},{"path":"/home/josh/Projects/game-of-life/node_modules/thread-loader/dist/cjs.js","mtime":1584814824955},{"path":"/home/josh/Projects/game-of-life/node_modules/babel-loader/lib/index.js","mtime":1584814823699},{"path":"/home/josh/Projects/game-of-life/node_modules/eslint-loader/index.js","mtime":1584814856628}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIENyZWF0ZXMgYSByZW5kZXIgbG9vcCBhbmQgY2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrcyBldmVyeSBmcmFtZS4KICogCiAqIFRlY2huaXF1ZSBieTogaHR0cHM6Ly9jb2RlaW5jb21wbGV0ZS5jb20vcG9zdHMvamF2YXNjcmlwdC1nYW1lLWZvdW5kYXRpb25zLXRoZS1nYW1lLWxvb3AvCiAqIAogKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGUgY2FsbGJhY2sKICogQHBhcmFtIHtGdW5jdGlvbn0gcmVuZGVyIGNhbGxiYWNrCiAqIEBwYXJhbSB7TnVtYmVyfSBmcHMKICovCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvb3AodXBkYXRlLCByZW5kZXIpIHsKICB2YXIgcGxheWluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTsKICB2YXIgZnBzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiA2MDsKICB2YXIgZGVsdGEgPSAwOwogIHZhciBsYXN0ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpOwogIHZhciBhbmltYXRpb25JZDsKCiAgZnVuY3Rpb24gYW5pbWF0aW9uKCkgewogICAgdmFyIG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTsKICAgIHZhciBzdGVwID0gMSAvIGZwczsKICAgIGRlbHRhID0gZGVsdGEgKyBNYXRoLm1pbigxLCAobm93IC0gbGFzdCkgLyAxMDAwKTsKCiAgICB3aGlsZSAoZGVsdGEgPiBzdGVwKSB7CiAgICAgIGRlbHRhIC09IHN0ZXA7CiAgICAgIHVwZGF0ZSgpOwogICAgfQoKICAgIHJlbmRlcigpOwogICAgbGFzdCA9IG5vdzsKCiAgICBpZiAocGxheWluZykgewogICAgICBhbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRpb24pOwogICAgfQogIH0KCiAgYW5pbWF0aW9uSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uKTsKICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgcGxheWluZyA9IGZhbHNlOwogICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uSWQpOwogIH07Cn0="},{"version":3,"sources":["/home/josh/Projects/game-of-life/src/functions/loop.js"],"names":["loop","update","render","playing","fps","delta","last","window","performance","now","animationId","animation","step","Math","min","requestAnimationFrame","cancelAnimationFrame"],"mappings":"AAAA;;;;;;;;;AASA,eAAe,SAASA,IAAT,CAAcC,MAAd,EAAsBC,MAAtB,EAAwD;AAAA,MAA1BC,OAA0B,uEAAhB,IAAgB;AAAA,MAAVC,GAAU,uEAAJ,EAAI;AACnE,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,IAAI,GAAGC,MAAM,CAACC,WAAP,CAAmBC,GAAnB,EAAX;AACA,MAAIC,WAAJ;;AAEA,WAASC,SAAT,GAAqB;AACjB,QAAMF,GAAG,GAAGF,MAAM,CAACC,WAAP,CAAmBC,GAAnB,EAAZ;AACA,QAAMG,IAAI,GAAG,IAAIR,GAAjB;AACAC,IAAAA,KAAK,GAAGA,KAAK,GAAGQ,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,CAACL,GAAG,GAAGH,IAAP,IAAe,IAA3B,CAAhB;;AAEA,WAAMD,KAAK,GAAGO,IAAd,EAAoB;AAChBP,MAAAA,KAAK,IAAIO,IAAT;AAEAX,MAAAA,MAAM;AACT;;AAEDC,IAAAA,MAAM;AAENI,IAAAA,IAAI,GAAGG,GAAP;;AAEA,QAAIN,OAAJ,EAAa;AACTO,MAAAA,WAAW,GAAGK,qBAAqB,CAACJ,SAAD,CAAnC;AACH;AACJ;;AAEDD,EAAAA,WAAW,GAAGK,qBAAqB,CAACJ,SAAD,CAAnC;AAEA,SAAO,YAAM;AACTR,IAAAA,OAAO,GAAG,KAAV;AACAa,IAAAA,oBAAoB,CAACN,WAAD,CAApB;AACH,GAHD;AAIH","sourcesContent":["/**\n * Creates a render loop and calls the given callbacks every frame.\n * \n * Technique by: https://codeincomplete.com/posts/javascript-game-foundations-the-game-loop/\n * \n * @param {Function} update callback\n * @param {Function} render callback\n * @param {Number} fps\n */\nexport default function loop(update, render, playing = true, fps = 60) {\n    let delta = 0\n    let last = window.performance.now()\n    let animationId\n\n    function animation() {\n        const now = window.performance.now()\n        const step = 1 / fps\n        delta = delta + Math.min(1, (now - last) / 1000)\n\n        while(delta > step) {\n            delta -= step\n\n            update()\n        }\n\n        render()\n\n        last = now\n\n        if (playing) {\n            animationId = requestAnimationFrame(animation)\n        }\n    }\n    \n    animationId = requestAnimationFrame(animation)\n\n    return () => {\n        playing = false\n        cancelAnimationFrame(animationId)\n    }\n}\n\n"]}]}